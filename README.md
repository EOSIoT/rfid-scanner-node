## RFID Scanner Software for Blockchain

This software package enables scanning and transmission of RFID tag data to the EOS blockchain.

It scans RFID chips in keycard, fobs, patches, tags etc.  The tags can be used to uniquely identify the items they are attached to in order to provide proof of location and time in supply chain, manufacturing, asset tracking and access control applications.

The software is built in Node.js and ready to run on a Raspberry Pi 2 or 3.  It uses the mfrc522 RFID reader hardware to scan nearby tags.

The EOS blockchain requires no transaction fees, is fast (inclusion within 2 seconds typical), and has an easy to use and globally accessible API.  


### Prerequisites

Internet connection, obviously.

**Hardware**
* Raspberry Pi 2 or 3
* MFRC522 scanner kit
* Buzzer (active)

**Software**
* Latest Raspbian OS (Project worked on a release download as of April 2019)
* Recent Node.js. The version (8.11.1) that comes with Raspbian works.
* NPM package manager.  Install it then update it:
  * sudo apt-get install npm
  * sudo npm i -g npm
* Git (already installed)

### Setup

Clone this repository onto your Pi:

* `$ git clone https://github.com/EOSIoT/rfid-scanner-node.git`
* `$ cd rfid-scanner-node`

Install project dependencies:

* `$ npm install`

### Using

Run the application with super-user priviledges.  Take note of the unique device ID to reference the scanner's data in the demo web application.

If the application was setup correctly, you will see the results of an initial blockchain *info* request, showing communication with an EOS API endpoint is working.

```
pi@raspberrypi:~/rfid-scanner-node $ sudo node  rfid_scanner_eos_rpi.js
[2019-05-05T15:38:32.712Z] Device ID: 942140182 (0x3827eb16)
[2019-05-05T15:38:32.713Z] Blockchain:
[2019-05-05T15:38:32.772Z] scanning...
[2019-05-05T15:38:32.772Z] Please put chip or keycard in the antenna inductive zone!
[2019-05-05T15:38:32.773Z] Press Ctrl-C to stop.
[2019-05-05T15:38:33.234Z] { server_version: '7cef0c57',
  chain_id: 'e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473',
  head_block_num: 27133220,
  last_irreversible_block_num: 27132893,
  last_irreversible_block_id: '019e03dd5a04a5cb6bfec13e39a253475f42e29f0910ac1ab3571f4869c2d5c6',
  head_block_id: '019e0524b996bf02625abf833bba78b953fdc116831e2cf778937b664ab0fad0',
  head_block_time: '2019-05-05T15:38:33.000',
  head_block_producer: 'gnuargentina',
  virtual_block_cpu_limit: 200000000,
  virtual_block_net_limit: 524288000,
  block_cpu_limit: 199900,
  block_net_limit: 524288,
  server_version_string: 'v1.8.0-rc1',
  fork_db_head_block_num: 27133220,
  fork_db_head_block_id: '019e0524b996bf02625abf833bba78b953fdc116831e2cf778937b664ab0fad0' }
[2019-05-05T15:38:33.304Z] No Card
[2019-05-05T15:38:33.822Z] No Card
[2019-05-05T15:38:34.341Z] No Card
```


To scan a card or tag, place it near (within 2 cm) the mfrc522 reader's top (antenna) side.  You'll hear a beep sound from the buzzer confirming the scan.  The tag's UID is then bundled up into a transaction and sent to the EOS blockchain where it is quickly absorbed into a block.

The tag's UID data is placed into a database hosted by a smart contract in the `eosiot11rfid` account.

The data generated by the RFID scanner is accessed via simple REST API calls.  There is a simple [web application](http://eosiot.io/rfid) that you can use to see the scanned tag data appear on the EOS blockchain in near realtime.




## A Note on the EOS Blockchain
A blockchain smart contract is already setup and waiting to receive the RFID scanner data so nothing has to be done on the blockchain side to see your scanner data appear on the chain.  The account hosting the smart contract is located in the `mainnet` chain - the EOS flagship blockchain.  A finite amount of resources have been pre-allocated to support this project (requiring EOS tokens and real $ to buy them).  The account can support a limited number of transactions per day.  However this limit is only a function of how much EOS is allocated to the contract.  

If you find utility with this project, a separate account can be created just for your RFID scanner node and an appropriate amount of EOS can be allocated to support your expected transaction requirements.

Please contact us if this is something you'd like to setup.  We can take care of onboarding to EOS (acquiring and deploying the necessary tokens), setting up your accounts and provisioning and supporting the smart contracts as necessary.






